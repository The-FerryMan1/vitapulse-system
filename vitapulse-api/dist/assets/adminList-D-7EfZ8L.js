import{_ as L}from"./Pagination.vue_vue_type_script_setup_true_lang-8rQMbW_n.js";import{g as j,_ as O}from"./Table.vue_vue_type_script_setup_true_lang-D3CVJytt.js";import{g as q,u as G,ba as H,r,I as J,c as Q,o as u,h as f,k as _,a as y,w as i,b as l,m as o,e as W,A as X,E as C,F as Y,as as x}from"./index-EnnwHpsG.js";import{_ as Z}from"./Input.vue_vue_type_script_setup_true_lang-B1V_pvvB.js";import{b as ee,a as ae,c as te,_ as le}from"./DeleteModal.vue_vue_type_script_setup_true_lang-CzTzU8-m.js";import{r as ie}from"./HeadUlo.vue_vue_type_script_setup_true_lang-yGkPrJpQ.js";import{g as oe}from"./websockets-BARde-ae.js";import"./jspdf.es.min-DoA4uwA0.js";import"./index-IZOQWYiH.js";import"./Label-h-CnGbub.js";import"./Select.vue_vue_type_script_setup_true_lang-VP94Q_cd.js";import"./Chip.vue_vue_type_script_setup_true_lang-CGbjm09Q.js";import"./useFormControl-Cx8bc3UZ.js";import"./nullish-CHIgUVhi.js";import"./Container.vue_vue_type_script_setup_true_lang-DWBGkDUc.js";const ne={class:"flex flex-col gap-3"},se={class:"w-full flex items-center gap-2"},re={class:"flex justify-end border-t border-(--ui-border) pt-4"},Ue=q({__name:"adminList",props:{userList:{}},setup(E){const p=W,R=ie;G();const c=H("table"),b=E,V=r({pageIndex:0,pageSize:10}),n=r(!1),m=r(!1),s=r(null),d=r(null),z=J(()=>b==null?void 0:b.userList),B=[{accessorKey:"role",header:"Role",cell:({row:e})=>`${e.getValue("role")}`},{accessorKey:"name",header:"Name",cell:({row:e})=>`${e.getValue("name")}`},{accessorKey:"email",header:"Email",cell:({row:e})=>`${e.getValue("email")}`},{accessorKey:"sex",header:"Sex",cell:({row:e})=>`${e.getValue("sex")}`},{accessorKey:"birthday",header:"Age",cell:({row:e})=>oe(e.getValue("birthday"))},{accessorKey:"contact",header:"Contact",cell:({row:e})=>`${e.getValue("contact")}`},{accessorKey:"isVerified",header:"Verified",cell:({row:e})=>`${e.getValue("isVerified")}`},{accessorKey:"status",header:"Status",cell:({row:e})=>`${e.getValue("status")}`},{id:"actions",cell:({row:e})=>x("div",{class:"text-right"},x(R,{content:{align:"end"},items:F(e),"aria-label":"Actions dropdown"},()=>x(p,{icon:"i-lucide-ellipsis-vertical",color:"neutral",variant:"ghost",class:"ml-auto","aria-label":"Actions dropdown"})))}];function F(e){return[{type:"label",label:"Action"},{type:"separator"},{label:"Edit",icon:"i-lucide-pencil",async onSelect(){s.value={id:e.original.id,name:e.original.name,email:e.original.email,birthday:e.original.birthday,sex:e.original.sex,contact:e.original.contact,role:e.original.role},n.value=!n.value}},{label:"Delete",icon:"i-lucide-trash",async onSelect(){d.value=e.original.id,m.value=!m.value}}]}const g=r("");return(e,t)=>{var h,U,A,k,S,I;const w=ee,v=ae,N=te,P=Z,$=X,T=O,D=L;return u(),Q(Y,null,[s.value?(u(),f(v,{key:0,open:n.value,"onUpdate:open":t[1]||(t[1]=a=>n.value=a),title:`Edit ${s.value.name}'s information `},{body:i(()=>[s.value||s.value!==null?(u(),f(w,{key:0,data:s.value,onChange:t[0]||(t[0]=()=>n.value=!n.value)},null,8,["data"])):_("",!0)]),default:i(()=>[l(o(p),{class:"hidden",icon:"i-lucide-user-plus",label:"Add user",color:"primary",variant:"subtle"})]),_:1},8,["open","title"])):_("",!0),d.value?(u(),f(v,{key:1,open:m.value,"onUpdate:open":t[2]||(t[2]=a=>m.value=a),title:`delete ${d.value}'s account`},{body:i(()=>[d.value?(u(),f(N,{key:0,id:d.value},null,8,["id"])):_("",!0)]),default:i(()=>[l(o(p),{class:"hidden",icon:"i-lucide-user-plus",label:"Add user",color:"primary",variant:"subtle"})]),_:1},8,["open","title"])):_("",!0),y("div",ne,[y("div",se,[l(P,{modelValue:g.value,"onUpdate:modelValue":t[3]||(t[3]=a=>g.value=a),type:"text",icon:"i-lucide-search",placeholder:"Search......",class:"my-2 w-full"},null,8,["modelValue"]),l(v,{title:"Add admin"},{body:i(()=>[l(le)]),default:i(()=>[l(o(p),{icon:"i-lucide-user-plus",label:"Add admin",color:"primary",variant:"subtle"})]),_:1})]),l(T,{data:z.value,ref_key:"table",ref:c,"pagination-options":{getPaginationRowModel:o(j)()},columns:B,pagination:V.value,"onUpdate:pagination":t[4]||(t[4]=a=>V.value=a),"global-filter":g.value,"onUpdate:globalFilter":t[5]||(t[5]=a=>g.value=a),class:"flex-1 shadow-xl border border-gray-200 rounded-md"},{"isVerified-cell":i(({row:a})=>[l($,{name:a.original.isVerified?"i-lucide-circle-check":"i-lucide-circle-x",class:C([a.original.isVerified?"text-green-500":"text-red-500","size-5"])},null,8,["name","class"])]),"status-cell":i(({row:a})=>[l($,{name:(a.original.status,"i-lucide-circle"),class:C([a.original.status?"text-green-500":"text-red-500","size-5"])},null,8,["name","class"])]),_:1},8,["data","pagination-options","pagination","global-filter"])]),y("div",re,[l(D,{"default-page":(((U=(h=o(c))==null?void 0:h.tableApi)==null?void 0:U.getState().pagination.pageIndex)||0)+1,"items-per-page":(k=(A=o(c))==null?void 0:A.tableApi)==null?void 0:k.getState().pagination.pageSize,total:(I=(S=o(c))==null?void 0:S.tableApi)==null?void 0:I.getFilteredRowModel().rows.length,"onUpdate:page":t[6]||(t[6]=a=>{var K,M;return(M=(K=o(c))==null?void 0:K.tableApi)==null?void 0:M.setPageIndex(a-1)})},null,8,["default-page","items-per-page","total"])])],64)}}});export{Ue as default};
