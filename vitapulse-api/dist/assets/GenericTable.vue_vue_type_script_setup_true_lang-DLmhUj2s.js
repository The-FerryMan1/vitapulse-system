import{_ as q}from"./Pagination.vue_vue_type_script_setup_true_lang-8rQMbW_n.js";import{g as G,_ as Y}from"./Table.vue_vue_type_script_setup_true_lang-D3CVJytt.js";import{_ as H}from"./Input.vue_vue_type_script_setup_true_lang-B1V_pvvB.js";import{g as J,q as K,ba as L,r as C,I as N,c as d,a as p,k as P,b as g,m as a,Y as O,t as z,n as Q,o as u,ar as W,p as X}from"./index-EnnwHpsG.js";const Z={class:"flex py-3.5 -z-10"},ee={key:1,class:"px-4 py-3.5 border-t border-accented text-sm text-muted"},te={class:"flex justify-end items-center border-t dark:border-gray-700 pt-4"},re=J({__name:"GenericTable",props:{data:{},columnConfig:{}},setup(B){const D=Q(),n=B,{auth:c}=K(),t=L("table"),r=C(""),m=C({pageIndex:0,pageSize:7}),T=async()=>{var e,s;let i=[];(s=(e=t==null?void 0:t.value)==null?void 0:e.tableApi)==null||s.getFilteredSelectedRowModel().rows.forEach(l=>{i.push({id:W(l.original.id)})});try{await X.post("/auth/admin/logs/delete",i),D.back()}catch(l){console.error(l)}},$=N(()=>n.columnConfig),j=N(()=>n==null?void 0:n.data);return(i,e)=>{var f,b,w,_,y,k,x,v,h,S,R,A,M,U,F;const s=H,l=Y,E=q;return u(),d("div",null,[p("div",Z,[g(s,{icon:"i-lucide-search",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=o=>r.value=o),class:"w-full dark:bg-gray-800 dark:text-white dark:border-gray-600",placeholder:"Search..."},null,8,["modelValue"])]),((w=(b=(f=a(t))==null?void 0:f.tableApi)==null?void 0:b.getFilteredSelectedRowModel().rows)==null?void 0:w.length)>0&&((_=a(c))==null?void 0:_.role)!=="general"?(u(),d("form",{key:0,onSubmit:O(T,["prevent"]),class:"flex justify-end items-center"},e[4]||(e[4]=[p("button",{class:"p-2 bg-red-500 text-sm my-1 rounded-md"}," Delete selected row ",-1)]),32)):P("",!0),((y=a(c))==null?void 0:y.role)!=="general"?(u(),d("div",ee,z(((x=(k=a(t))==null?void 0:k.tableApi)==null?void 0:x.getFilteredSelectedRowModel().rows.length)||0)+" of "+z(((h=(v=a(t))==null?void 0:v.tableApi)==null?void 0:h.getFilteredRowModel().rows.length)||0)+" row(s) selected. ",1)):P("",!0),g(l,{sticky:"",pagination:m.value,"onUpdate:pagination":e[1]||(e[1]=o=>m.value=o),"global-filter":r.value,"onUpdate:globalFilter":e[2]||(e[2]=o=>r.value=o),"pagination-options":{getPaginationRowModel:a(G)()},ref_key:"table",ref:t,data:j.value,empty:"No data found",columns:$.value,class:"w-full bg-white dark:bg-gray-800 dark:text-white dark:border-gray-700 rounded-t-md shadow-md"},null,8,["pagination","global-filter","pagination-options","data","columns"]),p("div",te,[g(E,{"default-page":(((R=(S=a(t))==null?void 0:S.tableApi)==null?void 0:R.getState().pagination.pageIndex)||0)+1,"items-per-page":(M=(A=a(t))==null?void 0:A.tableApi)==null?void 0:M.getState().pagination.pageSize,total:(F=(U=a(t))==null?void 0:U.tableApi)==null?void 0:F.getFilteredRowModel().rows.length,"onUpdate:page":e[3]||(e[3]=o=>{var V,I;return(I=(V=a(t))==null?void 0:V.tableApi)==null?void 0:I.setPageIndex(o-1)}),class:"dark:text-white"},null,8,["default-page","items-per-page","total"])])])}}});export{re as _};
