const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/zscoreChart-D6XmBTHp.js","assets/index-yN_0H3u7.js","assets/index-CHud2kZi.js","assets/index-g7eDV2oR.css","assets/zscoreTable-BR-xQ3Re.js","assets/Pagination.vue_vue_type_script_setup_true_lang-BgFq20sw.js","assets/Table.vue_vue_type_script_setup_true_lang-kNWGqCNN.js","assets/Input.vue_vue_type_script_setup_true_lang-CO-xKSk_.js","assets/FilterDate-CumzOp_H.js","assets/Select.vue_vue_type_script_setup_true_lang-CSMjV0UF.js","assets/Chip.vue_vue_type_script_setup_true_lang-DmKPPPIx.js","assets/HeadUlo.vue_vue_type_script_setup_true_lang-C-qicoL-.js","assets/useFormControl-BD6P04Vv.js","assets/nullish-CHIgUVhi.js"])))=>i.map(i=>d[i]);
import{g as L,q as N,r as c,Y as P,j as $,z,h as d,w as j,a as u,k as I,b as O,m as i,$ as p,e as M,c as Y,a0 as f,n as Z,o as m}from"./index-CHud2kZi.js";import{S as v,E as _}from"./ErrorComp-KVmm8PWM.js";import{_ as G}from"./userLayout.vue_vue_type_script_setup_true_lang-B_uunOcD.js";import{u as H}from"./UseBp-CSHq7C86.js";import{_ as J}from"./ExportToCsv.vue_vue_type_script_setup_true_lang-BRY3amWb.js";import"./HeadUlo.vue_vue_type_script_setup_true_lang-C-qicoL-.js";import"./websockets-CioFJj1P.js";import"./jspdf.es.min-B249Tpl9.js";const K={class:"flex gap-4 mt-3 px-3 items-end justify-start w-full"},Q={class:"w-full p-2"},W={key:1},X={class:"w-full p-2"},mt=L({__name:"ZScore",setup(tt){var w,D;const y=Z(),a=P(),g=N().auth,{getBp:C,getBpCustom:b,analyzeBpTrend:et}=H(),q=p({loader:()=>f(()=>import("./zscoreChart-D6XmBTHp.js"),__vite__mapDeps([0,1,2,3])),loadingComponent:v,delay:200,errorComponent:_,timeout:3e3}),V=p({loader:()=>f(()=>import("./zscoreTable-BR-xQ3Re.js"),__vite__mapDeps([4,5,2,3,6,7])),loadingComponent:v,delay:200,errorComponent:_,timeout:3e3}),R=p({loader:()=>f(()=>import("./FilterDate-CumzOp_H.js"),__vite__mapDeps([8,9,2,3,10,11,12,13])),loadingComponent:v,delay:200,errorComponent:_,timeout:3e3}),o=c(((D=(w=a==null?void 0:a.query)==null?void 0:w.filter)==null?void 0:D.toString())||"daily"),S=new Date,l=c(S),n=c(S);$(o,async()=>{(o==null?void 0:o.value)!=="custom"&&y.replace({query:{filter:o.value}})});const e=c(null);z(async()=>{var s,t;o.value!=="custom"&&(e.value=await C((t=(s=a==null?void 0:a.query)==null?void 0:s.filter)==null?void 0:t.toString()))});const U=async()=>{var s,t;if(o.value!=="custom"){e.value=await C((t=(s=a==null?void 0:a.query)==null?void 0:s.filter)==null?void 0:t.toString());return}if(o.value==="custom"&&n.value&&l.value){y.replace({query:{filter:"custom",from:new Date(n.value).toISOString(),to:new Date(l.value).toISOString()}}),await b(n.value.toISOString(),l.value.toISOString());return}};return(s,t)=>{const F=M;return m(),d(G,null,{default:j(()=>{var k,x,h,A,B,E,T;return[t[4]||(t[4]=u("h1",{class:"text-2xl mx-2 my-10 font-bold self-start"},"Anomaly detection using z-score",-1)),u("div",K,[((k=e.value)==null?void 0:k.length)!==void 0&&((x=e.value)==null?void 0:x.length)>0&&i(g)?(m(),d(J,{key:0,class:"self-start me-auto",Data:e.value,name:(h=i(g))==null?void 0:h.id},null,8,["Data","name"])):I("",!0),O(i(R),{filter:o.value,"onUpdate:filter":t[0]||(t[0]=r=>o.value=r),"custom-from":n.value,"onUpdate:customFrom":t[1]||(t[1]=r=>n.value=r),"custom-to":l.value,"onUpdate:customTo":t[2]||(t[2]=r=>l.value=r),class:"self-end"},null,8,["filter","custom-from","custom-to"]),O(F,{class:"shadow-xl dark:text-white",label:"Apply Filter",onClick:U})]),u("div",Q,[((A=e.value)==null?void 0:A.length)!==void 0&&((B=e.value)==null?void 0:B.length)>0?(m(),d(i(q),{key:0,Data:e.value},null,8,["Data"])):(m(),Y("div",W,t[3]||(t[3]=[u("p",{class:"text-center"},"No data found",-1)])))]),u("div",X,[((E=e.value)==null?void 0:E.length)!==void 0&&((T=e.value)==null?void 0:T.length)>0?(m(),d(i(V),{key:0,Data:e.value},null,8,["Data"])):I("",!0)])]}),_:1})}}});export{mt as default};
