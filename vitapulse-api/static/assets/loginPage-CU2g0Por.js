import{c as ie,o as re,s as O,_ as ne,a as H,b as ue}from"./index-BabSAffz.js";import{s as T,v as te,g as F,x as _,y as de,z as ce,A as me,h as x,o as g,w as p,b as y,m as a,P as j,B,C as fe,D as se,E as pe,k as $,G as A,H as be,I as ve,J as ge,K as he,L as J,M as ye,N as we,O as xe,Q as ke,R as Ve,S as Ce,T as Q,U as C,a as c,c as X,V as Y,W as _e,d as S,t as G,X as Ie,q as $e,r as Z,i as Se,j as Be,u as Fe,e as qe,l as Re,n as je,p as ze}from"./index-CHud2kZi.js";import{i as K}from"./nullish-CHIgUVhi.js";import{u as Te}from"./useFormControl-BD6P04Vv.js";import{i as Ke,u as Ae,g as Ee,w as Me,f as Ue}from"./HeadUlo.vue_vue_type_script_setup_true_lang-C-qicoL-.js";import{_ as Pe}from"./VisuallyHiddenInput-D12CSNnV.js";import{_ as Ne}from"./loginWallpaper-BbkQhbhK.js";import"./jspdf.es.min-B249Tpl9.js";import{_ as Le}from"./defaultLayout.vue_vue_type_script_setup_true_lang-BjzrHeKN.js";import"./Input.vue_vue_type_script_setup_true_lang-CO-xKSk_.js";import"./Container.vue_vue_type_script_setup_true_lang-hNHJKHeU.js";function ee(n,m){return K(n)?!1:Array.isArray(n)?n.some(e=>T(e,m)):T(n,m)}const[De,ba]=te("CheckboxGroupRoot");function R(n){return n==="indeterminate"}function oe(n){return R(n)?"indeterminate":n?"checked":"unchecked"}const We=F({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(n){const m=n,e=Ke(),u=Ae(),b=_(()=>m.tabStopId||u),v=_(()=>e.currentTabStopId.value===b.value),{getItems:o,CollectionItem:f}=de();ce(()=>{m.focusable&&e.onFocusableItemAdd()}),me(()=>{m.focusable&&e.onFocusableItemRemove()});function h(s){if(s.key==="Tab"&&s.shiftKey){e.onItemShiftTab();return}if(s.target!==s.currentTarget)return;const t=Ee(s,e.orientation.value,e.dir.value);if(t!==void 0){if(s.metaKey||s.ctrlKey||s.altKey||!m.allowShiftKey&&s.shiftKey)return;s.preventDefault();let i=[...o().map(r=>r.ref).filter(r=>r.dataset.disabled!=="")];if(t==="last")i.reverse();else if(t==="prev"||t==="next"){t==="prev"&&i.reverse();const r=i.indexOf(s.currentTarget);i=e.loop.value?Me(i,r+1):i.slice(r+1)}fe(()=>Ue(i))}}return(s,t)=>(g(),x(a(f),null,{default:p(()=>[y(a(j),{tabindex:v.value?0:-1,"data-orientation":a(e).orientation.value,"data-active":s.active?"":void 0,"data-disabled":s.focusable?void 0:"",as:s.as,"as-child":s.asChild,onMousedown:t[0]||(t[0]=i=>{s.focusable?a(e).onItemFocus(b.value):i.preventDefault()}),onFocus:t[1]||(t[1]=i=>a(e).onItemFocus(b.value)),onKeydown:h},{default:p(()=>[B(s.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[Oe,He]=te("CheckboxRoot"),Je=F({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:m}){const e=n,u=m,{forwardRef:b,currentElement:v}=se(),o=De(null),f=pe(e,"modelValue",u,{defaultValue:e.defaultValue,passive:e.modelValue===void 0}),h=_(()=>(o==null?void 0:o.disabled.value)||e.disabled),s=_(()=>K(o==null?void 0:o.modelValue.value)?f.value==="indeterminate"?"indeterminate":f.value:ee(o.modelValue.value,e.value));function t(){if(K(o==null?void 0:o.modelValue.value))f.value=R(f.value)?!0:!f.value;else{const l=[...o.modelValue.value||[]];if(ee(l,e.value)){const V=l.findIndex(w=>T(w,e.value));l.splice(V,1)}else l.push(e.value);o.modelValue.value=l}}const i=Te(v),r=_(()=>{var l;return e.id&&v.value?(l=document.querySelector(`[for="${e.id}"]`))==null?void 0:l.innerText:void 0});return He({disabled:h,state:s}),(l,V)=>{var w,I;return g(),x(ge((w=a(o))!=null&&w.rovingFocus.value?a(We):a(j)),A(l.$attrs,{id:l.id,ref:a(b),role:"checkbox","as-child":l.asChild,as:l.as,type:l.as==="button"?"button":void 0,"aria-checked":a(R)(s.value)?"mixed":s.value,"aria-required":l.required,"aria-label":l.$attrs["aria-label"]||r.value,"data-state":a(oe)(s.value),"data-disabled":h.value?"":void 0,disabled:h.value,focusable:(I=a(o))!=null&&I.rovingFocus.value?!h.value:void 0,onKeydown:be(ve(()=>{},["prevent"]),["enter"]),onClick:t}),{default:p(()=>[B(l.$slots,"default",{modelValue:a(f),state:s.value}),a(i)&&l.name&&!a(o)?(g(),x(a(Pe),{key:0,type:"checkbox",checked:!!s.value,name:l.name,value:l.value,disabled:h.value,required:l.required},null,8,["checked","name","value","disabled","required"])):$("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),Qe=F({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(n){const{forwardRef:m}=se(),e=Oe();return(u,b)=>(g(),x(a(he),{present:u.forceMount||a(R)(a(e).state.value)||a(e).state.value===!0},{default:p(()=>[y(a(j),A({ref:a(m),"data-state":a(oe)(a(e).state.value),"data-disabled":a(e).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":u.asChild,as:u.as},u.$attrs),{default:p(()=>[B(u.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),Xe={slots:{root:"relative flex items-start",base:"shrink-0 flex items-center justify-center rounded-(--ui-radius) text-(--ui-bg) ring ring-inset ring-(--ui-border-accented) focus-visible:outline-2 focus-visible:outline-offset-2",container:"flex items-center",wrapper:"ms-2",icon:"shrink-0 size-full",label:"block font-medium text-(--ui-text)",description:"text-(--ui-text-muted)"},variants:{color:{primary:"focus-visible:outline-(--ui-primary)",secondary:"focus-visible:outline-(--ui-secondary)",success:"focus-visible:outline-(--ui-success)",info:"focus-visible:outline-(--ui-info)",warning:"focus-visible:outline-(--ui-warning)",error:"focus-visible:outline-(--ui-error)",neutral:"focus-visible:outline-(--ui-border-inverted)"},size:{xs:{base:"size-3",container:"h-4",wrapper:"text-xs"},sm:{base:"size-3.5",container:"h-4",wrapper:"text-xs"},md:{base:"size-4",container:"h-5",wrapper:"text-sm"},lg:{base:"size-4.5",container:"h-5",wrapper:"text-sm"},xl:{base:"size-5",container:"h-6",wrapper:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-(--ui-error)"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}},checked:{true:""}},compoundVariants:[{color:"primary",checked:!0,class:"ring-2 ring-(--ui-primary) bg-(--ui-primary)"},{color:"secondary",checked:!0,class:"ring-2 ring-(--ui-secondary) bg-(--ui-secondary)"},{color:"success",checked:!0,class:"ring-2 ring-(--ui-success) bg-(--ui-success)"},{color:"info",checked:!0,class:"ring-2 ring-(--ui-info) bg-(--ui-info)"},{color:"warning",checked:!0,class:"ring-2 ring-(--ui-warning) bg-(--ui-warning)"},{color:"error",checked:!0,class:"ring-2 ring-(--ui-error) bg-(--ui-error)"},{color:"neutral",checked:!0,class:"ring-2 ring-(--ui-border-inverted) bg-(--ui-bg-inverted)"}],defaultVariants:{size:"md",color:"primary"}},Ye=Ie;var ae;const Ge=Q({extend:Q(Xe),...((ae=Ye.ui)==null?void 0:ae.checkbox)||{}}),Ze=F({inheritAttrs:!1,__name:"Checkbox",props:J({as:{},label:{},description:{},color:{},size:{},icon:{},indeterminateIcon:{},class:{},ui:{},disabled:{type:Boolean},required:{type:Boolean},name:{},value:{},id:{},defaultValue:{type:[Boolean,String]}},{modelValue:{type:[Boolean,String],default:void 0},modelModifiers:{}}),emits:J(["change"],["update:modelValue"]),setup(n,{emit:m}){const e=n,u=ye(),b=m,v=we(n,"modelValue"),o=xe(ke(e,"required","value","defaultValue")),f=_e(),{id:h,emitFormChange:s,emitFormInput:t,size:i,color:r,name:l,disabled:V,ariaAttrs:w}=Ve(e),I=h.value??Ce(),k=_(()=>Ge({size:i.value,color:r.value,required:e.required,disabled:V.value,checked:!!(v.value??e.defaultValue)}));function le(d){const q=new Event("change",{target:{value:d}});b("change",q),s(),t()}return(d,q)=>{var E;return g(),x(a(j),{as:d.as,class:C(k.value.root({class:[e.class,(E=e.ui)==null?void 0:E.root]}))},{default:p(()=>{var M,U,P,N,L;return[c("div",{class:C(k.value.container({class:(M=e.ui)==null?void 0:M.container}))},[y(a(Je),A({id:a(I)},{...a(o),...d.$attrs,...a(w)},{modelValue:v.value,"onUpdate:modelValue":[q[0]||(q[0]=z=>v.value=z),le],name:a(l),disabled:a(V),class:k.value.base({class:(U=e.ui)==null?void 0:U.base})}),{default:p(({modelValue:z})=>[y(a(Qe),{"as-child":""},{default:p(()=>{var D,W;return[z==="indeterminate"?(g(),x(Y,{key:0,name:d.indeterminateIcon||a(f).ui.icons.minus,class:C(k.value.icon({class:(D=e.ui)==null?void 0:D.icon}))},null,8,["name","class"])):(g(),x(Y,{key:1,name:d.icon||a(f).ui.icons.check,class:C(k.value.icon({class:(W=e.ui)==null?void 0:W.icon}))},null,8,["name","class"]))]}),_:2},1024)]),_:1},16,["id","modelValue","name","disabled","class"])],2),d.label||u.label||d.description||u.description?(g(),X("div",{key:0,class:C(k.value.wrapper({class:(P=e.ui)==null?void 0:P.wrapper}))},[d.label||u.label?(g(),x(a(ie),{key:0,for:a(I),class:C(k.value.label({class:(N=e.ui)==null?void 0:N.label}))},{default:p(()=>[B(d.$slots,"label",{label:d.label},()=>[S(G(d.label),1)])]),_:3},8,["for","class"])):$("",!0),d.description||u.description?(g(),X("p",{key:1,class:C(k.value.description({class:(L=e.ui)==null?void 0:L.description}))},[B(d.$slots,"description",{description:d.description},()=>[S(G(d.description),1)])],2)):$("",!0)],2)):$("",!0)]}),_:3},8,["as","class"])}}}),ea={class:"flex justify-between items-center h-full w-full lg:bg-linear-90 bg-linear-65 from-white dark:from-slate-900 via-white dark:via-slate-900 to-red-600 transition-colors duration-300"},aa={class:"flex items-center self-start gap-3 justify-between w-full text-gray-700 dark:text-gray-300"},ta={class:"flex items-center gap-3"},sa={class:"flex justify-between w-full flex-row-reverse"},va=F({__name:"loginPage",setup(n){const{verify:m}=$e(),e=je(),u=re({email:O().email(),password:O().min(8)}),b=Z(!1),v=Z(null),o=Se({email:void 0,password:void 0});Be(()=>o.email,()=>{v.value=null});const f=Fe(),h=async s=>{var t,i;try{b.value=!0;const{status:r}=await ze.post("/login",{email:s.data.email,password:s.data.password},{headers:{"Content-Type":"application/json"}});if(r!==200)throw new Error("invalid credentials");f.add({title:"Success",description:"Welcome back!",color:"success"}),await m(),e.push({name:"dashboard"});return}catch(r){v.value=(i=(t=r==null?void 0:r.response)==null?void 0:t.data)==null?void 0:i.message,f.add({title:"Warning",description:"Invalid credentials",color:"warning"}),console.log(r)}finally{b.value=!1,o.password=void 0}};return(s,t)=>{const i=Ze,r=qe,l=Re,V=ue;return g(),x(Le,null,{default:p(()=>[c("div",ea,[y(V,{schema:a(u),state:o,onSubmit:h,class:"lg:w-2/5 w-full lg:mx-30 justify-self-center flex flex-col justify-center items-center space-y-6 p-10 bg-white dark:bg-slate-800 rounded-[8px] dark:border dark:border-gray-700 transition-all duration-300"},{default:p(()=>[t[6]||(t[6]=c("div",{class:"self-start text-3xl font-semibold gap-2 flex flex-col text-gray-900 dark:text-white"},[c("h1",null,"Login."),c("small",{class:"text-lg font-light text-gray-600 dark:text-gray-300"},"Welcome back!")],-1)),v.value?(g(),x(ne,{key:0,message:v.value},null,8,["message"])):$("",!0),y(H,{label:"Email",name:"email",required:"",type:"email",icon:"i-lucide-mail",placeholder:"Enter your email",modelValue:o.email,"onUpdate:modelValue":t[0]||(t[0]=w=>o.email=w)},null,8,["modelValue"]),y(H,{label:"Password",name:"password",required:"",type:"password",icon:"i-lucide-key-round",placeholder:"*******",modelValue:o.password,"onUpdate:modelValue":t[1]||(t[1]=w=>o.password=w)},null,8,["modelValue"]),c("div",aa,[c("div",ta,[t[2]||(t[2]=c("label",{for:"remember",class:"md:text-base text-sm"},"Remember me",-1)),y(i)]),c("div",null,[y(r,{"loading-icon":"i-lucide-loader-circle",disabled:b.value,loading:b.value,type:"submit",icon:"i-lucide-log-in",class:"md:text-base text-sm bg-red-500 hover:bg-red-600 text-white w-full transition-all duration-300"},{default:p(()=>t[3]||(t[3]=[S(" Sign in ")])),_:1},8,["disabled","loading"])])]),c("div",sa,[y(l,{href:"/register",class:"underline text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-200"},{default:p(()=>t[4]||(t[4]=[S(" Create Account? ")])),_:1}),y(l,{href:"/reset-password",class:"underline text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-blue-300 transition-colors duration-200"},{default:p(()=>t[5]||(t[5]=[S(" Forgot password? ")])),_:1})])]),_:1},8,["schema","state"]),t[7]||(t[7]=c("div",{class:"h-full relative lg:flex hidden"},[c("img",{src:Ne,alt:"Login wallpaper",class:"h-[90%] w-full z-10 object-contain rounded-md bg-transparent aspect-square"}),c("div",{class:"absolute w-full h-full top-0 left-0 flex flex-col justify-start items-center p-5"},[c("h1",{class:"font-bold text-5xl p-5 text-shadow-2xs text-white text-center"},' "Check your pressure before it checks you." '),c("h1",{class:"font-bold text-3xl p-5 text-shadow-2xs mt-60 text-white"},"VitaPulse"),c("h1",{class:"font-bold text-2xl px-5 text-shadow-2xs text-center text-white"}," Your health companion system — track your well-being ")])],-1))])]),_:1})}}});export{va as default};
