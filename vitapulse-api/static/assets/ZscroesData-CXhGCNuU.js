const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/zscoreChart-D6XmBTHp.js","assets/index-yN_0H3u7.js","assets/index-CHud2kZi.js","assets/index-g7eDV2oR.css","assets/zscoreTable-BR-xQ3Re.js","assets/Pagination.vue_vue_type_script_setup_true_lang-BgFq20sw.js","assets/Table.vue_vue_type_script_setup_true_lang-kNWGqCNN.js","assets/Input.vue_vue_type_script_setup_true_lang-CO-xKSk_.js","assets/FilterDate-CumzOp_H.js","assets/Select.vue_vue_type_script_setup_true_lang-CSMjV0UF.js","assets/Chip.vue_vue_type_script_setup_true_lang-DmKPPPIx.js","assets/HeadUlo.vue_vue_type_script_setup_true_lang-C-qicoL-.js","assets/useFormControl-BD6P04Vv.js","assets/nullish-CHIgUVhi.js"])))=>i.map(i=>d[i]);
import{g as R,q as z,r as i,Y as F,j as B,z as L,n as N,p as _,h as v,w as j,a as m,c as $,k as y,b as q,m as g,$ as C,e as Z,a0 as w,o as d}from"./index-CHud2kZi.js";import{S,E as x}from"./ErrorComp-KVmm8PWM.js";import{_ as M}from"./adminLayout.vue_vue_type_script_setup_true_lang-C-zYPSsb.js";import{u as Y}from"./UseBp-CSHq7C86.js";import{_ as G}from"./SelectMenu.vue_vue_type_script_setup_true_lang-B9aedvRF.js";import"./HeadUlo.vue_vue_type_script_setup_true_lang-C-qicoL-.js";import"./websockets-CioFJj1P.js";import"./jspdf.es.min-B249Tpl9.js";import"./Chip.vue_vue_type_script_setup_true_lang-DmKPPPIx.js";import"./Input.vue_vue_type_script_setup_true_lang-CO-xKSk_.js";import"./useFormControl-BD6P04Vv.js";import"./VisuallyHiddenInput-D12CSNnV.js";const H={class:"flex gap-2 items-center"},J={key:0,class:"flex gap-4 mt-3 px-3 items-end justify-start w-full"},K={class:"w-full p-2"},Q={key:1},W={class:"w-full p-2"},pe=R({__name:"ZscroesData",setup(X){var D,b;const f=N(),a=F();z().auth;const{getBp:ee,getBpCustom:I}=Y(),O=C({loader:()=>w(()=>import("./zscoreChart-D6XmBTHp.js"),__vite__mapDeps([0,1,2,3])),loadingComponent:S,delay:200,errorComponent:x,timeout:3e3}),T=C({loader:()=>w(()=>import("./zscoreTable-BR-xQ3Re.js"),__vite__mapDeps([4,5,2,3,6,7])),loadingComponent:S,delay:200,errorComponent:x,timeout:3e3}),U=C({loader:()=>w(()=>import("./FilterDate-CumzOp_H.js"),__vite__mapDeps([8,9,2,3,10,11,12,13])),loadingComponent:S,delay:200,errorComponent:x,timeout:3e3}),o=i(((b=(D=a==null?void 0:a.query)==null?void 0:D.filter)==null?void 0:b.toString())||"daily"),k=new Date,c=i(k),p=i(k);B(o,async()=>{(o==null?void 0:o.value)!=="custom"&&f.replace({query:{filter:o.value}})});const n=i(null),l=i(null),s=i(0);B(s,()=>{l.value=null}),L(async()=>{var u,e;if(f.replace({query:{filter:"daily"}}),o.value!=="custom"&&s.value!==0)try{const{data:t}=await _.get(`/auth/admin/readings/z-scores/${s.value}?filter=${(e=(u=a==null?void 0:a.query)==null?void 0:u.filter)==null?void 0:e.toString()}`);l.value=t}catch(t){console.log(t)}if(n.value===null||n.value.length<0)try{const{data:t}=await _.get("/auth/admin/users");n.value=t}catch(t){console.log(t),n.value=null}});const P=async()=>{var u,e;if(o.value!=="custom"){const{data:t}=await _.get(`/auth/admin/readings/z-scores/${s.value}?filter=${(e=(u=a==null?void 0:a.query)==null?void 0:u.filter)==null?void 0:e.toString()}`);l.value=t;return}if(o.value==="custom"&&p.value&&c.value){f.replace({query:{filter:"custom",from:new Date(p.value).toISOString(),to:new Date(c.value).toISOString()}}),await I(p.value.toISOString(),c.value.toISOString());return}};return(u,e)=>{const t=Z;return d(),v(M,null,{default:j(()=>{var V,h,A,E;return[e[6]||(e[6]=m("h1",{class:"text-2xl mx-2 my-10 font-bold self-start"},"Z-score",-1)),m("div",H,[e[4]||(e[4]=m("label",{class:"text-sm font-semibold p-2",for:""},"View z-scores:",-1)),n.value?(d(),v(G,{key:0,data:n.value,modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=r=>s.value=r)},null,8,["data","modelValue"])):y("",!0)]),s.value!==0?(d(),$("div",J,[q(g(U),{filter:o.value,"onUpdate:filter":e[1]||(e[1]=r=>o.value=r),"custom-from":p.value,"onUpdate:customFrom":e[2]||(e[2]=r=>p.value=r),"custom-to":c.value,"onUpdate:customTo":e[3]||(e[3]=r=>c.value=r),class:"self-end ms-auto"},null,8,["filter","custom-from","custom-to"]),q(t,{class:"shadow-xl",label:"Apply Filter",onClick:P})])):y("",!0),m("div",K,[((V=l.value)==null?void 0:V.length)!==void 0&&((h=l.value)==null?void 0:h.length)>0?(d(),v(g(O),{key:0,Data:l.value},null,8,["Data"])):(d(),$("div",Q,e[5]||(e[5]=[m("p",{class:"text-center"},"No data found",-1)])))]),m("div",W,[((A=l.value)==null?void 0:A.length)!==void 0&&((E=l.value)==null?void 0:E.length)>0?(d(),v(g(T),{key:0,Data:l.value},null,8,["Data"])):y("",!0)])]}),_:1})}}});export{pe as default};
