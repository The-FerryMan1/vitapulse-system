import{_ as L}from"./Pagination.vue_vue_type_script_setup_true_lang-BgFq20sw.js";import{g as j,_ as O}from"./Table.vue_vue_type_script_setup_true_lang-kNWGqCNN.js";import{g as q,u as G,b9 as H,r,x as J,c as Q,o as u,h as f,k as _,a as y,w as i,b as t,m as o,e as W,V as X,U as C,F as Y,ba as x}from"./index-CHud2kZi.js";import{_ as Z}from"./Input.vue_vue_type_script_setup_true_lang-CO-xKSk_.js";import{b as ee,a as ae,c as le,_ as te}from"./DeleteModal.vue_vue_type_script_setup_true_lang-C4WNn0gC.js";import{r as ie}from"./HeadUlo.vue_vue_type_script_setup_true_lang-C-qicoL-.js";import{g as oe}from"./websockets-CioFJj1P.js";import"./jspdf.es.min-B249Tpl9.js";import"./index-BabSAffz.js";import"./Select.vue_vue_type_script_setup_true_lang-CSMjV0UF.js";import"./Chip.vue_vue_type_script_setup_true_lang-DmKPPPIx.js";import"./useFormControl-BD6P04Vv.js";import"./nullish-CHIgUVhi.js";import"./Container.vue_vue_type_script_setup_true_lang-hNHJKHeU.js";const ne={class:"flex flex-col gap-3"},se={class:"w-full flex items-center gap-2"},re={class:"flex justify-end border-t border-(--ui-border) pt-4"},he=q({__name:"adminList",props:{userList:{}},setup(R){const p=W,z=ie;G();const c=H("table"),b=R,V=r({pageIndex:0,pageSize:10}),n=r(!1),m=r(!1),s=r(null),d=r(null),B=J(()=>b==null?void 0:b.userList),E=[{accessorKey:"role",header:"Role",cell:({row:e})=>`${e.getValue("role")}`},{accessorKey:"name",header:"Name",cell:({row:e})=>`${e.getValue("name")}`},{accessorKey:"email",header:"Email",cell:({row:e})=>`${e.getValue("email")}`},{accessorKey:"sex",header:"Sex",cell:({row:e})=>`${e.getValue("sex")}`},{accessorKey:"birthday",header:"Age",cell:({row:e})=>oe(e.getValue("birthday"))},{accessorKey:"contact",header:"Contact",cell:({row:e})=>`${e.getValue("contact")}`},{accessorKey:"isVerified",header:"Verified",cell:({row:e})=>`${e.getValue("isVerified")}`},{accessorKey:"status",header:"Status",cell:({row:e})=>`${e.getValue("status")}`},{id:"actions",cell:({row:e})=>x("div",{class:"text-right"},x(z,{content:{align:"end"},items:F(e),"aria-label":"Actions dropdown"},()=>x(p,{icon:"i-lucide-ellipsis-vertical",color:"neutral",variant:"ghost",class:"ml-auto","aria-label":"Actions dropdown"})))}];function F(e){return[{type:"label",label:"Action"},{type:"separator"},{label:"Edit",icon:"i-lucide-pencil",async onSelect(){s.value={id:e.original.id,name:e.original.name,email:e.original.email,birthday:e.original.birthday,sex:e.original.sex,contact:e.original.contact,role:e.original.role},n.value=!n.value}},{label:"Delete",icon:"i-lucide-trash",async onSelect(){d.value=e.original.id,m.value=!m.value}}]}const g=r("");return(e,l)=>{var h,U,A,k,S,K;const w=ee,v=ae,N=le,P=Z,$=X,T=O,D=L;return u(),Q(Y,null,[s.value?(u(),f(v,{key:0,open:n.value,"onUpdate:open":l[1]||(l[1]=a=>n.value=a),title:`Edit ${s.value.name}'s information `},{body:i(()=>[s.value||s.value!==null?(u(),f(w,{key:0,data:s.value,onChange:l[0]||(l[0]=()=>n.value=!n.value)},null,8,["data"])):_("",!0)]),default:i(()=>[t(o(p),{class:"hidden",icon:"i-lucide-user-plus",label:"Add user",color:"primary",variant:"subtle"})]),_:1},8,["open","title"])):_("",!0),d.value?(u(),f(v,{key:1,open:m.value,"onUpdate:open":l[2]||(l[2]=a=>m.value=a),title:`delete ${d.value}'s account`},{body:i(()=>[d.value?(u(),f(N,{key:0,id:d.value},null,8,["id"])):_("",!0)]),default:i(()=>[t(o(p),{class:"hidden",icon:"i-lucide-user-plus",label:"Add user",color:"primary",variant:"subtle"})]),_:1},8,["open","title"])):_("",!0),y("div",ne,[y("div",se,[t(P,{modelValue:g.value,"onUpdate:modelValue":l[3]||(l[3]=a=>g.value=a),type:"text",icon:"i-lucide-search",placeholder:"Search......",class:"my-2 w-full"},null,8,["modelValue"]),t(v,{title:"Add admin"},{body:i(()=>[t(te)]),default:i(()=>[t(o(p),{icon:"i-lucide-user-plus",label:"Add admin",color:"primary",variant:"subtle"})]),_:1})]),t(T,{data:B.value,ref_key:"table",ref:c,"pagination-options":{getPaginationRowModel:o(j)()},columns:E,pagination:V.value,"onUpdate:pagination":l[4]||(l[4]=a=>V.value=a),"global-filter":g.value,"onUpdate:globalFilter":l[5]||(l[5]=a=>g.value=a),class:"flex-1 shadow-xl border border-gray-200 rounded-md"},{"isVerified-cell":i(({row:a})=>[t($,{name:a.original.isVerified?"i-lucide-circle-check":"i-lucide-circle-x",class:C([a.original.isVerified?"text-green-500":"text-red-500","size-5"])},null,8,["name","class"])]),"status-cell":i(({row:a})=>[t($,{name:(a.original.status,"i-lucide-circle"),class:C([a.original.status?"text-green-500":"text-red-500","size-5"])},null,8,["name","class"])]),_:1},8,["data","pagination-options","pagination","global-filter"])]),y("div",re,[t(D,{"default-page":(((U=(h=o(c))==null?void 0:h.tableApi)==null?void 0:U.getState().pagination.pageIndex)||0)+1,"items-per-page":(k=(A=o(c))==null?void 0:A.tableApi)==null?void 0:k.getState().pagination.pageSize,total:(K=(S=o(c))==null?void 0:S.tableApi)==null?void 0:K.getFilteredRowModel().rows.length,"onUpdate:page":l[6]||(l[6]=a=>{var I,M;return(M=(I=o(c))==null?void 0:I.tableApi)==null?void 0:M.setPageIndex(a-1)})},null,8,["default-page","items-per-page","total"])])],64)}}});export{he as default};
