import{_ as T}from"./Pagination.vue_vue_type_script_setup_true_lang-BgFq20sw.js";import{g as j,_ as O}from"./Table.vue_vue_type_script_setup_true_lang-kNWGqCNN.js";import{g as q,u as G,b9 as H,r as c,x as J,c as Q,o as p,a as _,b as o,h as y,k as b,w as i,m as s,e as X,V as Y,U as N,F as Z,ba as S}from"./index-CHud2kZi.js";import{_ as ee,a as ae,b as le,c as te,e as x}from"./DeleteModal.vue_vue_type_script_setup_true_lang-C4WNn0gC.js";import{_ as oe}from"./Input.vue_vue_type_script_setup_true_lang-CO-xKSk_.js";import{r as ie}from"./HeadUlo.vue_vue_type_script_setup_true_lang-C-qicoL-.js";import{a as K}from"./websockets-CioFJj1P.js";import"./index-BabSAffz.js";import"./Select.vue_vue_type_script_setup_true_lang-CSMjV0UF.js";import"./Chip.vue_vue_type_script_setup_true_lang-DmKPPPIx.js";import"./useFormControl-BD6P04Vv.js";import"./nullish-CHIgUVhi.js";import"./jspdf.es.min-B249Tpl9.js";import"./Container.vue_vue_type_script_setup_true_lang-hNHJKHeU.js";const se={class:"flex flex-col gap-3"},ne={class:"w-full flex justify-between items-center gap-2"},re={class:"flex justify-end border-t border-(--ui-border) pt-4"},Ve=q({__name:"userList",props:{userList:{}},setup(R){const m=X,I=ie,t=G(),d=H("table"),n=c(!1),g=c(!1),r=c(null),u=c(null),v=R,V=c({pageIndex:0,pageSize:10}),B=J(()=>v==null?void 0:v.userList),z=[{accessorKey:"role",header:"Role",cell:({row:e})=>`${e.getValue("role")}`},{accessorKey:"name",header:"Name",cell:({row:e})=>`${e.getValue("name")}`},{accessorKey:"email",header:"Email",cell:({row:e})=>`${e.getValue("email")}`},{accessorKey:"sex",header:"Sex",cell:({row:e})=>`${e.getValue("sex")}`},{accessorKey:"birthday",header:"Birthday",cell:({row:e})=>e.getValue("birthday")},{accessorKey:"contact",header:"Contact",cell:({row:e})=>`${e.getValue("contact")}`},{accessorKey:"isVerified",header:"Verified",cell:({row:e})=>`${e.getValue("isVerified")}`},{accessorKey:"status",header:"Status",cell:({row:e})=>`${e.getValue("status")}`},{id:"actions",cell:({row:e})=>S("div",{class:"text-right"},S(I,{content:{align:"end"},items:E(e),"aria-label":"Actions dropdown"},()=>S(m,{icon:"i-lucide-ellipsis-vertical",color:"neutral",variant:"ghost",class:"ml-auto","aria-label":"Actions dropdown"})))}];function E(e){return[{type:"label",label:"Export Readings"},{label:"All",icon:"i-lucide-arrow-down-to-line",async onSelect(){await x("all",e.original.id)?t.add({title:"Download Completed",description:"Weekly Data CSV format",color:"success"}):t.add({title:"Download failed",description:"Weekly Data CSV format - No data to download",color:"warning"})}},{label:"Weekly",icon:"i-lucide-arrow-down-to-line",async onSelect(){await x("weekly",e.original.id)?t.add({title:"Download Completed",description:"Weekly Data CSV format",color:"success"}):t.add({title:"Download failed",description:"Weekly Data CSV format - No data to download",color:"warning"})}},{label:"Monthly",icon:"i-lucide-arrow-down-to-line",async onSelect(){await x("weekly",e.original.id)?t.add({title:"Download Completed",description:"Monthly Data CSV format",color:"success"}):t.add({title:"Download failed",description:"Monthly Data CSV format - No data to download",color:"warning"})}},{type:"separator"},{type:"label",label:"Summary health report"},{label:"Weekly",icon:"i-lucide-arrow-down-to-line",async onSelect(){await K("weekly",e.original.id)?t.add({title:"Download Completed",description:"Weekly Summary report",color:"success"}):t.add({title:"Download failed",description:"Weekly Summary report - No data to download",color:"warning"})}},{label:"Monthly",icon:"i-lucide-arrow-down-to-line",async onSelect(){await K("monthly",e.original.id)?t.add({title:"Download Completed",description:"Weekly Summary report",color:"success"}):t.add({title:"Download failed",description:"Weekly Summary report - No data to download",color:"warning"})}},{type:"separator"},{type:"label",label:"Action"},{label:"Edit",icon:"i-lucide-pencil",async onSelect(){r.value={id:e.original.id,name:e.original.name,email:e.original.email,birthday:e.original.birthday,sex:e.original.sex,contact:e.original.contact,role:e.original.role},n.value=!n.value}},{label:"Delete",icon:"i-lucide-trash",async onSelect(){u.value=e.original.id,g.value=!g.value}}]}const f=c("");return(e,a)=>{var k,$,C,D,U,A;const F=oe,w=ae,h=Y,P=O,L=T;return p(),Q(Z,null,[_("div",se,[_("div",ne,[o(F,{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=l=>f.value=l),type:"text",icon:"i-lucide-search",placeholder:"Search......",class:"my-2 w-full"},null,8,["modelValue"]),o(w,{title:"Add user"},{body:i(()=>[o(ee)]),default:i(()=>[o(s(m),{icon:"i-lucide-user-plus",label:"Add user",color:"primary",variant:"subtle"})]),_:1}),r.value?(p(),y(w,{key:0,open:n.value,"onUpdate:open":a[2]||(a[2]=l=>n.value=l),title:`Edit ${r.value.name}'s information `},{body:i(()=>[r.value||r.value!==null?(p(),y(le,{key:0,data:r.value,onChange:a[1]||(a[1]=()=>n.value=!n.value)},null,8,["data"])):b("",!0)]),default:i(()=>[o(s(m),{class:"hidden",icon:"i-lucide-user-plus",label:"Add user",color:"primary",variant:"subtle"})]),_:1},8,["open","title"])):b("",!0),u.value?(p(),y(w,{key:1,open:g.value,"onUpdate:open":a[3]||(a[3]=l=>g.value=l),title:`delete ${u.value}'s account`},{body:i(()=>[u.value?(p(),y(te,{key:0,id:u.value},null,8,["id"])):b("",!0)]),default:i(()=>[o(s(m),{class:"hidden",icon:"i-lucide-user-plus",label:"Add user",color:"primary",variant:"subtle"})]),_:1},8,["open","title"])):b("",!0)]),o(P,{data:B.value,ref_key:"table",ref:d,"pagination-options":{getPaginationRowModel:s(j)()},columns:z,pagination:V.value,"onUpdate:pagination":a[4]||(a[4]=l=>V.value=l),"global-filter":f.value,"onUpdate:globalFilter":a[5]||(a[5]=l=>f.value=l),class:"flex-1 shadow-xl border border-gray-200 rounded-md"},{"isVerified-cell":i(({row:l})=>[o(h,{name:l.original.isVerified?"i-lucide-circle-check":"i-lucide-circle-x",class:N([l.original.isVerified?"text-green-500":"text-red-500","size-5"])},null,8,["name","class"])]),"status-cell":i(({row:l})=>[o(h,{name:(l.original.status,"i-lucide-circle"),class:N([l.original.status?"text-green-500":"text-red-500","size-5"])},null,8,["name","class"])]),_:1},8,["data","pagination-options","pagination","global-filter"])]),_("div",re,[o(L,{"default-page":((($=(k=s(d))==null?void 0:k.tableApi)==null?void 0:$.getState().pagination.pageIndex)||0)+1,"items-per-page":(D=(C=s(d))==null?void 0:C.tableApi)==null?void 0:D.getState().pagination.pageSize,total:(A=(U=s(d))==null?void 0:U.tableApi)==null?void 0:A.getFilteredRowModel().rows.length,"onUpdate:page":a[6]||(a[6]=l=>{var W,M;return(M=(W=s(d))==null?void 0:W.tableApi)==null?void 0:M.setPageIndex(l-1)})},null,8,["default-page","items-per-page","total"])])],64)}}});export{Ve as default};
